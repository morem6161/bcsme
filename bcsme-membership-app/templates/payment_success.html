{% extends "base.html" %}

{% block title %}Payment Successful - BCSME{% endblock %}

{% block content %}
<div class="success-container">
    <div class="success-icon">âœ“</div>
    
    <h2>Application Submitted Successfully!</h2>
    
    <div class="success-message">
        {% if member.payment_status == 'completed' %}
            <p class="lead">Thank you for your payment, {{ member.name }}!</p>
            <p>Your membership application has been received and payment confirmed.</p>
            {% if member.payment_id and member.payment_id != 'PENDING_IN_PERSON' %}
                <p><strong>Payment ID:</strong> {{ member.payment_id }}</p>
            {% endif %}
        {% else %}
            <p class="lead">Thank you for your application, {{ member.name }}!</p>
            <p>Your application has been received. Please complete payment in person at Rainbow Creek Station.</p>
        {% endif %}
    </div>
    
    <div class="next-steps">
        <h3>What Happens Next?</h3>
        <ol>
            <li>Your application will be reviewed by the BCSME Board at the next monthly meeting</li>
            {% if member.membership_category == 'Junior' %}
                <li>Your sponsors will be contacted to confirm their endorsement</li>
            {% elif member.membership_category == 'Probationary' %}
                <li>We'll verify your parent/guardian information</li>
            {% endif %}
            <li>You will receive an email confirmation once your membership is approved</li>
            <li>Welcome packet and membership details will be sent to your email</li>
        </ol>
    </div>
    
    <div class="application-summary">
        <h3>Application Summary</h3>
        <p><strong>Name:</strong> {{ member.name }}</p>
        <p><strong>Email:</strong> {{ member.email }}</p>
        <p><strong>Membership Category:</strong> {{ member.membership_category }}</p>
        <p><strong>Annual Fee:</strong> ${{ "%.2f"|format(member.membership_fee) }}</p>
        <p><strong>Application Date:</strong> {{ member.application_date.strftime('%B %d, %Y') }}</p>
        <p><strong>Status:</strong> Pending Board Approval</p>
    </div>
    
    <div class="contact-info">
        <h3>Questions?</h3>
        <p>If you have any questions about your application, please contact us:</p>
        <p><strong>Email:</strong> <a href="mailto:secretary@bcsme.org">secretary@bcsme.org</a></p>
        <p><strong>Phone:</strong> (604) 291-0922</p>
        <p><strong>Address:</strong> 120 North Willingdon Avenue, Burnaby, B.C. V5C 6K1</p>
    </div>
    
    <div class="cta-buttons">
        <a href="{{ url_for('index') }}" class="btn btn-primary">Return to Home</a>
    </div>
</div>

<style>
.success-container {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
}

.success-icon {
    width: 100px;
    height: 100px;
    background: #28a745;
    color: white;
    font-size: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 20px auto;
}

.success-message {
    background: #d4edda;
    border: 1px solid #c3e6cb;
    padding: 20px;
    border-radius: 8px;
    margin: 30px 0;
}

.lead {
    font-size: 1.3em;
    font-weight: 600;
    margin-bottom: 10px;
}

.next-steps, .application-summary, .contact-info {
    background: white;
    padding: 25px;
    border-radius: 8px;
    margin: 20px 0;
    text-align: left;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.next-steps ol {
    line-height: 1.8;
}

.cta-buttons {
    margin: 30px 0;
}
</style>
{% endblock %}
